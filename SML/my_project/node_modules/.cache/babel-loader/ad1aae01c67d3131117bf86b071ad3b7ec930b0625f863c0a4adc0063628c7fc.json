{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { bus } from \"../bus.js\";\nimport API from \"../api/api_user\";\nexport default {\n  name: \"home\",\n  created() {\n    bus.$on(\"setNickName\", text => {\n      this.nickname = text;\n    });\n    bus.$on(\"goto\", url => {\n      if (url === \"/login\") {\n        localStorage.removeItem(\"access-user\");\n      }\n      this.$router.push(url);\n    });\n    this.defaultActiveIndex = this.$route.path;\n  },\n  data() {\n    return {\n      defaultActiveIndex: \"0\",\n      nickname: \"\",\n      collapsed: false,\n      menus: []\n    };\n  },\n  methods: {\n    handleSelect(index) {\n      if (index.indexOf(\"http\") != -1) {\n        window.open(index);\n      } else {\n        this.$router.push(index);\n      }\n    },\n    //折叠导航栏\n    collapse: function () {\n      this.collapsed = !this.collapsed;\n    },\n    jumpTo(url) {\n      if (url.indexOf(\"http\") != -1) {} else {\n        this.defaultActiveIndex = url;\n        this.$router.push(url); //用go刷新\n      }\n    },\n\n    logout() {\n      let that = this;\n      this.$confirm(\"确认退出吗?\", \"提示\", {\n        confirmButtonClass: \"el-button--warning\"\n      }).then(() => {\n        //确认\n        that.loading = true;\n        //\n        localStorage.removeItem(\"access-token\");\n        localStorage.removeItem(\"menus\");\n        API.logout(\"\").then(function (res) {\n          that.$message.error({\n            showClose: true,\n            message: res.msg,\n            duration: 2000\n          });\n        });\n        that.$router.go(\"/login\"); //用go刷新\n      }).catch(() => {});\n    }\n  },\n  mounted() {\n    this.menus = JSON.parse(window.localStorage.getItem(\"menus\"));\n    // if (user) {\n    //   user = JSON.parse(user);\n    //   this.nickname = user.nickname || '';\n    // }\n    let that = this;\n    API.tokenUser().then(function (result) {\n      that.nickname = result.name;\n    }).catch(() => {\n      localStorage.removeItem(\"access-token\");\n      that.$router.go(\"/login\"); //用go刷新\n    });\n  }\n};","map":{"version":3,"mappings":";AA6FE,SAASA,GAAE,QAAS,WAAW;AAC/B,OAAOC,GAAE,MAAO,iBAAiB;AAEjC,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,OAAO,GAAG;IACRH,GAAG,CAACI,GAAG,CAAC,aAAa,EAAEC,IAAG,IAAK;MAC7B,IAAI,CAACC,QAAO,GAAID,IAAI;IACtB,CAAC,CAAC;IAEFL,GAAG,CAACI,GAAG,CAAC,MAAM,EAAEG,GAAE,IAAK;MACrB,IAAIA,GAAE,KAAM,QAAQ,EAAE;QACpBC,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;MACxC;MACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAACJ,GAAG,CAAC;IACxB,CAAC,CAAC;IACF,IAAI,CAACK,kBAAiB,GAAI,IAAI,CAACC,MAAM,CAACC,IAAI;EAC5C,CAAC;EACDC,IAAI,GAAG;IACL,OAAO;MACLH,kBAAkB,EAAE,GAAG;MACvBN,QAAQ,EAAE,EAAE;MACZU,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAY,CAACC,KAAK,EAAE;MAClB,IAAIA,KAAK,CAACC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;QAC/BC,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC;MACpB,OAAO;QACN,IAAI,CAACV,OAAO,CAACC,IAAI,CAACS,KAAK,CAAC;MACzB;IACF,CAAC;IACD;IACAI,QAAQ,EAAE,YAAW;MACnB,IAAI,CAACR,SAAQ,GAAI,CAAC,IAAI,CAACA,SAAS;IAClC,CAAC;IACDS,MAAM,CAAClB,GAAG,EAAE;MACV,IAAIA,GAAG,CAACc,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,CAC/B,OAAO;QACL,IAAI,CAACT,kBAAiB,GAAIL,GAAG;QAC7B,IAAI,CAACG,OAAO,CAACC,IAAI,CAACJ,GAAG,CAAC,EAAE;MAC1B;IACF,CAAC;;IACDmB,MAAM,GAAG;MACP,IAAIC,IAAG,GAAI,IAAI;MACf,IAAI,CAACC,QAAQ,CAAC,QAAQ,EAAE,IAAI,EAAE;QAC5BC,kBAAkB,EAAE;MACtB,CAAC,EACEC,IAAI,CAAC,MAAM;QACV;QACAH,IAAI,CAACI,OAAM,GAAI,IAAI;QACnB;QACAvB,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;QACvCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;QAChCR,GAAG,CAACyB,MAAM,CAAC,EAAE,CAAC,CAACI,IAAI,CAAC,UAASE,GAAG,EAAE;UAChCL,IAAI,CAACM,QAAQ,CAACC,KAAK,CAAC;YAClBC,SAAS,EAAE,IAAI;YACfC,OAAO,EAAEJ,GAAG,CAACK,GAAG;YAChBC,QAAQ,EAAE;UACZ,CAAC,CAAC;QACJ,CAAC,CAAC;QACFX,IAAI,CAACjB,OAAO,CAAC6B,EAAE,CAAC,QAAQ,CAAC,EAAE;MAC7B,CAAC,EACAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IACpB;EACF,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACxB,KAAI,GAAIyB,IAAI,CAACC,KAAK,CAACrB,MAAM,CAACd,YAAY,CAACoC,OAAO,CAAC,OAAO,CAAC,CAAC;IAC7D;IACA;IACA;IACA;IACA,IAAIjB,IAAG,GAAI,IAAI;IACf1B,GAAG,CAAC4C,SAAS,EAAC,CACXf,IAAI,CAAC,UAASgB,MAAM,EAAE;MACrBnB,IAAI,CAACrB,QAAO,GAAIwC,MAAM,CAAC5C,IAAI;IAC7B,CAAC,EACAsC,KAAK,CAAC,MAAM;MACXhC,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;MACvCkB,IAAI,CAACjB,OAAO,CAAC6B,EAAE,CAAC,QAAQ,CAAC,EAAE;IAC7B,CAAC,CAAC;EACN;AACF,CAAC","names":["bus","API","name","created","$on","text","nickname","url","localStorage","removeItem","$router","push","defaultActiveIndex","$route","path","data","collapsed","menus","methods","handleSelect","index","indexOf","window","open","collapse","jumpTo","logout","that","$confirm","confirmButtonClass","then","loading","res","$message","error","showClose","message","msg","duration","go","catch","mounted","JSON","parse","getItem","tokenUser","result"],"sourceRoot":"","sources":["E:\\flask_learn\\my_project\\src\\components\\CarsRecord.vue"],"sourcesContent":["<template>\r\n    <el-row class=\"container\">\r\n      <!--头部-->\r\n      <el-col :span=\"24\" class=\"topbar-wrap\">\r\n        <div class=\"topbar-title\">\r\n          <span style=\"font-size: 18px;color: #fff;\"></span>\r\n        </div>\r\n        <div class=\"topbar-account topbar-btn\">\r\n          <el-dropdown trigger=\"click\">\r\n            <span class=\"el-dropdown-link userinfo-inner\">\r\n              <i class=\"iconfont icon-user\"></i>\r\n              {{nickname}}\r\n              <i class=\"iconfont icon-down\"></i>\r\n            </span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item>\r\n                <div @click=\"jumpTo('/user/profile')\">\r\n                  <span style=\"color: #555;font-size: 14px;\">个人信息</span>\r\n                </div>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <div @click=\"jumpTo('/user/changepwd')\">\r\n                  <span style=\"color: #555;font-size: 14px;\">修改密码</span>\r\n                </div>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item divided @click.native=\"logout\">退出登录</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-col>\r\n  \r\n      <!--中间-->\r\n      <el-col :span=\"24\" class=\"main\">\r\n        <!--左侧导航-->\r\n        <aside :class=\"{showSidebar:!collapsed}\">\r\n          <!--展开折叠开关-->\r\n          <div class=\"menu-toggle\" @click.prevent=\"collapse\">\r\n            <i class=\"fa fa-bars\" v-show=\"!collapsed\"></i>\r\n            <i class=\"fa fa-bars fa-rotate-90\" v-show=\"collapsed\"></i>\r\n          </div>\r\n          <!--导航菜单-->\r\n          <el-menu :default-active=\"defaultActiveIndex\" :collapse=\"collapsed\" @select=\"handleSelect\">\r\n            <template v-for=\"(item,index) in menus\" v-if=\"item.menuShow\">\r\n              <el-submenu v-if=\"!item.leaf\" :index=\"index+''\">\r\n                <template slot=\"title\">\r\n                  <i :class=\"item.iconCls\"></i>\r\n                  <span slot=\"title\">{{item.name}}</span>\r\n                </template>\r\n                <el-menu-item\r\n                  v-for=\"term in item.children\"\r\n                  :key=\"term.path\"\r\n                  :index=\"term.path\"\r\n                  v-if=\"term.menuShow\"\r\n                  :class=\"$route.path==term.path?'is-active':''\"\r\n                >\r\n                  <i :class=\"term.iconCls\"></i>\r\n                  <span slot=\"title\">{{term.name}}</span>\r\n                </el-menu-item>\r\n              </el-submenu>\r\n              <el-menu-item\r\n                v-else-if=\"item.leaf&&item.children&&item.children.length\"\r\n                :index=\"item.children[0].path\"\r\n                :class=\"$route.path==item.children[0].path?'is-active':''\"\r\n              >\r\n                <i :class=\"item.iconCls\"></i>\r\n                <span slot=\"title\">{{item.children[0].name}}</span>\r\n              </el-menu-item>\r\n            </template>\r\n          </el-menu>\r\n        </aside>\r\n  \r\n        <!--右侧内容区-->\r\n        <!--右侧内容区-->\r\n        <section\r\n          class=\"content-container\"\r\n          v-loading=\"$store.state.loading\"\r\n          element-loading-text=\"拼命加载中\"\r\n          element-loading-spinner=\"el-icon-loading\"\r\n          element-loading-background=\"rgba(255, 255, 255, 0)\"\r\n        >\r\n          <div class=\"grid-content bg-purple-light\">\r\n            <el-col :span=\"24\" class=\"content-wrapper\">\r\n              <transition name=\"fade\" mode=\"out-in\">\r\n                <router-view></router-view>\r\n              </transition>\r\n            </el-col>\r\n          </div>\r\n        </section>\r\n      </el-col>\r\n    </el-row>\r\n  </template>\r\n  \r\n  <script>\r\n  import { bus } from \"../bus.js\";\r\n  import API from \"../api/api_user\";\r\n  \r\n  export default {\r\n    name: \"home\",\r\n    created() {\r\n      bus.$on(\"setNickName\", text => {\r\n        this.nickname = text;\r\n      });\r\n  \r\n      bus.$on(\"goto\", url => {\r\n        if (url === \"/login\") {\r\n          localStorage.removeItem(\"access-user\");\r\n        }\r\n        this.$router.push(url);\r\n      });\r\n      this.defaultActiveIndex = this.$route.path;\r\n    },\r\n    data() {\r\n      return {\r\n        defaultActiveIndex: \"0\",\r\n        nickname: \"\",\r\n        collapsed: false,\r\n        menus: []\r\n      };\r\n    },\r\n    methods: {\r\n      handleSelect(index) {\r\n        if (index.indexOf(\"http\") != -1) {\r\n          window.open(index);\r\n        } else {\r\n         this.$router.push(index);\r\n        }\r\n      },\r\n      //折叠导航栏\r\n      collapse: function() {\r\n        this.collapsed = !this.collapsed;\r\n      },\r\n      jumpTo(url) {\r\n        if (url.indexOf(\"http\") != -1) {\r\n        } else {\r\n          this.defaultActiveIndex = url;\r\n          this.$router.push(url); //用go刷新\r\n        }\r\n      },\r\n      logout() {\r\n        let that = this;\r\n        this.$confirm(\"确认退出吗?\", \"提示\", {\r\n          confirmButtonClass: \"el-button--warning\"\r\n        })\r\n          .then(() => {\r\n            //确认\r\n            that.loading = true;\r\n            //\r\n            localStorage.removeItem(\"access-token\");\r\n            localStorage.removeItem(\"menus\");\r\n            API.logout(\"\").then(function(res) {\r\n              that.$message.error({\r\n                showClose: true,\r\n                message: res.msg,\r\n                duration: 2000\r\n              });\r\n            });\r\n            that.$router.go(\"/login\"); //用go刷新\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    },\r\n    mounted() {\r\n      this.menus = JSON.parse(window.localStorage.getItem(\"menus\"));\r\n      // if (user) {\r\n      //   user = JSON.parse(user);\r\n      //   this.nickname = user.nickname || '';\r\n      // }\r\n      let that = this;\r\n      API.tokenUser()\r\n        .then(function(result) {\r\n          that.nickname = result.name;\r\n        })\r\n        .catch(() => {\r\n          localStorage.removeItem(\"access-token\");\r\n          that.$router.go(\"/login\"); //用go刷新\r\n        });\r\n    }\r\n  };\r\n  </script>\r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped lang=\"scss\">\r\n  .container {\r\n    position: absolute;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    width: 100%;\r\n  \r\n    .topbar-wrap {\r\n      height: 50px;\r\n      line-height: 50px;\r\n      background: #373d41;\r\n      padding: 0px;\r\n  \r\n      .topbar-btn {\r\n        color: #fff;\r\n      }\r\n      /*.topbar-btn:hover {*/\r\n      /*background-color: #4A5064;*/\r\n      /*}*/\r\n      .topbar-logo {\r\n        float: left;\r\n        width: 59px;\r\n        line-height: 26px;\r\n      }\r\n      .topbar-logos {\r\n        float: left;\r\n        width: 120px;\r\n        line-height: 26px;\r\n      }\r\n      .topbar-logo img,\r\n      .topbar-logos img {\r\n        height: 40px;\r\n        margin-top: 5px;\r\n        margin-left: 2px;\r\n      }\r\n      .topbar-title {\r\n        float: left;\r\n        text-align: left;\r\n        width: 200px;\r\n        padding-left: 10px;\r\n        border-left: 1px solid #000;\r\n      }\r\n      .topbar-account {\r\n        float: right;\r\n        padding-right: 12px;\r\n      }\r\n      .userinfo-inner {\r\n        cursor: pointer;\r\n        color: #fff;\r\n        padding-left: 10px;\r\n      }\r\n    }\r\n    .main {\r\n      display: -webkit-box;\r\n      display: -webkit-flex;\r\n      display: -ms-flexbox;\r\n      display: flex;\r\n      position: absolute;\r\n      top: 50px;\r\n      bottom: 0px;\r\n      overflow: hidden;\r\n    }\r\n  \r\n    aside {\r\n      min-width: 50px;\r\n      background: #2f4050;\r\n      &::-webkit-scrollbar {\r\n        display: none;\r\n      }\r\n  \r\n      &.showSidebar {\r\n        overflow-x: hidden;\r\n        overflow-y: auto;\r\n      }\r\n  \r\n      .el-menu {\r\n        height: 100%; /*写给不支持calc()的浏览器*/\r\n        height: -moz-calc(100% - 80px);\r\n        height: -webkit-calc(100% - 80px);\r\n        height: calc(100% - 80px);\r\n        border-radius: 0px;\r\n        background-color: #2f4050;\r\n        border-right: 0px;\r\n      }\r\n  \r\n      .el-submenu .el-menu-item {\r\n        min-width: 60px;\r\n      }\r\n      .el-menu {\r\n        width: 180px;\r\n      }\r\n      .el-menu--collapse {\r\n        width: 60px;\r\n      }\r\n  \r\n      .el-menu .el-menu-item,\r\n      .el-submenu .el-submenu__title {\r\n        height: 46px;\r\n        line-height: 46px;\r\n      }\r\n  \r\n      .el-menu-item:hover,\r\n      .el-submenu .el-menu-item:hover,\r\n      .el-submenu__title:hover {\r\n        background-color: #293846;\r\n        color: #fff;\r\n      }\r\n    }\r\n  \r\n    .menu-toggle {\r\n      background: #4a5064;\r\n      text-align: center;\r\n      color: white;\r\n      height: 26px;\r\n      line-height: 30px;\r\n    }\r\n  \r\n    .content-container {\r\n      background: #fff;\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      padding: 10px;\r\n      padding-bottom: 1px;\r\n  \r\n      .content-wrapper {\r\n        background-color: #fff;\r\n        box-sizing: border-box;\r\n      }\r\n    }\r\n  }\r\n  </style>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}