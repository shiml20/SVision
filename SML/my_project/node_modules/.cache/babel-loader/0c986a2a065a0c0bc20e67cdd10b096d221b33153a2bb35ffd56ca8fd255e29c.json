{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, reactive, computed, watch } from 'vue';\nexport default {\n  __name: 'AlertInfo',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const names = reactive(['Emil, Hans', 'Mustermann, Max', 'Tisch, Roman']);\n    const selected = ref('');\n    const prefix = ref('');\n    const first = ref('');\n    const last = ref('');\n    const filteredNames = computed(() => names.filter(n => n.toLowerCase().startsWith(prefix.value.toLowerCase())));\n    watch(selected, name => {\n      ;\n      [last.value, first.value] = name.split(', ');\n    });\n    function create() {\n      if (hasValidInput()) {\n        const fullName = `${last.value}, ${first.value}`;\n        if (!names.includes(fullName)) {\n          names.push(fullName);\n          first.value = last.value = '';\n        }\n      }\n    }\n    function update() {\n      if (hasValidInput() && selected.value) {\n        const i = names.indexOf(selected.value);\n        names[i] = selected.value = `${last.value}, ${first.value}`;\n      }\n    }\n    function del() {\n      if (selected.value) {\n        const i = names.indexOf(selected.value);\n        names.splice(i, 1);\n        selected.value = first.value = last.value = '';\n      }\n    }\n    function hasValidInput() {\n      return first.value.trim() && last.value.trim();\n    }\n    /* eslint-disable */\n\n    const __returned__ = {\n      names,\n      selected,\n      prefix,\n      first,\n      last,\n      filteredNames,\n      create,\n      update,\n      del,\n      hasValidInput,\n      ref,\n      reactive,\n      computed,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";AAMA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,KAAK;;;;;;;IAEpD,MAAMC,KAAK,GAAGH,QAAQ,CAAC,CAAC,YAAY,EAAE,iBAAiB,EAAE,cAAc,CAAC,CAAC;IACzE,MAAMI,QAAQ,GAAGL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,MAAM,GAAGN,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMO,KAAK,GAAGP,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMQ,IAAI,GAAGR,GAAG,CAAC,EAAE,CAAC;IAEpB,MAAMS,aAAa,GAAGP,QAAQ,CAAC,MAC7BE,KAAK,CAACM,MAAM,CAAEC,CAAC,IACbA,CAAC,CAACC,WAAW,EAAE,CAACC,UAAU,CAACP,MAAM,CAACQ,KAAK,CAACF,WAAW,EAAE,CAAC,CACvD,CACF;IAEDT,KAAK,CAACE,QAAQ,EAAGU,IAAI,IAAK;MACxB;MAAC,CAACP,IAAI,CAACM,KAAK,EAAEP,KAAK,CAACO,KAAK,CAAC,GAAGC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC;IAC/C,CAAC,CAAC;IAEF,SAASC,MAAM,GAAG;MAChB,IAAIC,aAAa,EAAE,EAAE;QACnB,MAAMC,QAAQ,GAAI,GAAEX,IAAI,CAACM,KAAM,KAAIP,KAAK,CAACO,KAAM,EAAC;QAChD,IAAI,CAACV,KAAK,CAACgB,QAAQ,CAACD,QAAQ,CAAC,EAAE;UAC7Bf,KAAK,CAACiB,IAAI,CAACF,QAAQ,CAAC;UACpBZ,KAAK,CAACO,KAAK,GAAGN,IAAI,CAACM,KAAK,GAAG,EAAE;QAC/B;MACF;IACF;IAEA,SAASQ,MAAM,GAAG;MAChB,IAAIJ,aAAa,EAAE,IAAIb,QAAQ,CAACS,KAAK,EAAE;QACrC,MAAMS,CAAC,GAAGnB,KAAK,CAACoB,OAAO,CAACnB,QAAQ,CAACS,KAAK,CAAC;QACvCV,KAAK,CAACmB,CAAC,CAAC,GAAGlB,QAAQ,CAACS,KAAK,GAAI,GAAEN,IAAI,CAACM,KAAM,KAAIP,KAAK,CAACO,KAAM,EAAC;MAC7D;IACF;IAEA,SAASW,GAAG,GAAG;MACb,IAAIpB,QAAQ,CAACS,KAAK,EAAE;QAClB,MAAMS,CAAC,GAAGnB,KAAK,CAACoB,OAAO,CAACnB,QAAQ,CAACS,KAAK,CAAC;QACvCV,KAAK,CAACsB,MAAM,CAACH,CAAC,EAAE,CAAC,CAAC;QAClBlB,QAAQ,CAACS,KAAK,GAAGP,KAAK,CAACO,KAAK,GAAGN,IAAI,CAACM,KAAK,GAAG,EAAE;MAChD;IACF;IAEA,SAASI,aAAa,GAAG;MACvB,OAAOX,KAAK,CAACO,KAAK,CAACa,IAAI,EAAE,IAAInB,IAAI,CAACM,KAAK,CAACa,IAAI,EAAE;IAChD;IACA","names":["ref","reactive","computed","watch","names","selected","prefix","first","last","filteredNames","filter","n","toLowerCase","startsWith","value","name","split","create","hasValidInput","fullName","includes","push","update","i","indexOf","del","splice","trim"],"sources":["E:/flask_learn/my_project/src/components/AlertInfo.vue"],"sourcesContent":["<!--\r\nhttps://eugenkiss.github.io/7guis/tasks/#crud\r\n-->\r\n\r\n\r\n<script setup>\r\nimport { ref, reactive, computed, watch } from 'vue'\r\n\r\nconst names = reactive(['Emil, Hans', 'Mustermann, Max', 'Tisch, Roman'])\r\nconst selected = ref('')\r\nconst prefix = ref('')\r\nconst first = ref('')\r\nconst last = ref('')\r\n\r\nconst filteredNames = computed(() =>\r\n  names.filter((n) =>\r\n    n.toLowerCase().startsWith(prefix.value.toLowerCase())\r\n  )\r\n)\r\n\r\nwatch(selected, (name) => {\r\n  ;[last.value, first.value] = name.split(', ')\r\n})\r\n\r\nfunction create() {\r\n  if (hasValidInput()) {\r\n    const fullName = `${last.value}, ${first.value}`\r\n    if (!names.includes(fullName)) {\r\n      names.push(fullName)\r\n      first.value = last.value = ''\r\n    }\r\n  }\r\n}\r\n\r\nfunction update() {\r\n  if (hasValidInput() && selected.value) {\r\n    const i = names.indexOf(selected.value)\r\n    names[i] = selected.value = `${last.value}, ${first.value}`\r\n  }\r\n}\r\n\r\nfunction del() {\r\n  if (selected.value) {\r\n    const i = names.indexOf(selected.value)\r\n    names.splice(i, 1)\r\n    selected.value = first.value = last.value = ''\r\n  }\r\n}\r\n\r\nfunction hasValidInput() {\r\n  return first.value.trim() && last.value.trim()\r\n}\r\n/* eslint-disable */\r\n\r\n</script>\r\n\r\n<template>\r\n  <div><input v-model=\"prefix\" placeholder=\"Filter prefix\"></div>\r\n\r\n  <select size=\"5\" v-model=\"selected\">\r\n    <option v-for=\"name in filteredNames\" :key=\"name\">{{ name }}</option>\r\n  </select>\r\n\r\n  <label>Name: <input v-model=\"first\"></label>\r\n  <label>Surname: <input v-model=\"last\"></label>\r\n\r\n  <div class=\"buttons\">\r\n    <button @click=\"create\">Create</button>\r\n    <button @click=\"update\">Update</button>\r\n    <button @click=\"del\">Delete</button>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n* {\r\n  font-size: inherit;\r\n}\r\n\r\ninput {\r\n  display: block;\r\n  margin-bottom: 10px;\r\n}\r\n\r\nselect {\r\n  float: left;\r\n  margin: 0 1em 1em 0;\r\n  width: 14em;\r\n}\r\n\r\n.buttons {\r\n  clear: both;\r\n}\r\n\r\nbutton + button {\r\n  margin-left: 5px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}